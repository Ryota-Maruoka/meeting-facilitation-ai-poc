---
title: "会議管理機能 - 要件定義書"
status: "active"
owner: "product-team"
last_update: "2025-02-11"
confidentiality: "internal"
related:
  - ".claude/apps/backend/overview.md"
  - ".claude/apps/frontend/overview.md"
---

# 会議管理機能 - 要件定義書

## 1. 概要

### 1.1 機能の目的

AI会議ファシリテーション支援システムにおける会議ライフサイクル全体の管理機能を提供します。
会議の作成、開始、進行中の状態管理、終了、履歴管理までを一元的に扱います。

### 1.2 ビジネス価値

- 会議の準備から振り返りまでのデータを一元管理
- 会議の効率化とアジェンダ遵守率の向上
- 過去の会議履歴からの学習とナレッジ蓄積
- AI支援機能（文字起こし、要約、脱線検知）との統合

---

## 2. ユーザーストーリー

### US-001: 会議作成

**As a** ファシリテーター
**I want to** 会議の基本情報とアジェンダを事前に登録できる
**So that** 会議の目的と構成を明確にして効率的に進行できる

**受入基準**:
- 会議タイトル、目的、期待成果を入力できること
- 会議日程（YYYY-MM-DD形式）を任意で指定できること
- 参加者リストを登録できること
- 複数のアジェンダ項目を登録できること
  - 各アジェンダに所要時間（分）を設定できること
  - 各アジェンダに期待成果と関連URLを任意で設定できること
- 入力内容をバリデーションすること
  - タイトル：1-200文字
  - 目的・期待成果：1文字以上
  - アジェンダ所要時間：1-480分

### US-002: 会議開始

**As a** ファシリテーター
**I want to** 会議を「進行中」状態にして開始時刻を記録できる
**So that** 会議の実績時間を正確に把握できる

**受入基準**:
- 会議開始ボタンをクリックすると会議が「進行中」状態になること
- 開始時刻（UTC）が自動記録されること
- バックグラウンドで3分ごとのミニ要約生成スケジューラーが起動すること
- 音声録音機能が利用可能になること

### US-003: 会議進行中の状態表示

**As a** 参加者
**I want to** 会議の進行状況をリアルタイムで確認できる
**So that** 現在のアジェンダと残り時間を把握しながら議論できる

**受入基準**:
- 現在進行中のアジェンダアイテムがハイライト表示されること
- リアルタイム文字起こしが表示されること
- ミニ要約（決定事項・未決事項・アクション）が更新されること
- 脱線検知アラートが表示されること

### US-004: 会議終了

**As a** ファシリテーター
**I want to** 会議を終了して最終サマリを自動生成できる
**So that** 会議後のフォローアップを効率化できる

**受入基準**:
- 会議終了ボタンをクリックすると会議が「完了」状態になること
- 終了時刻（UTC）が自動記録されること
- バックグラウンドで最終サマリが生成されること
  - 会議全体の要約
  - 決定事項一覧
  - 未決事項一覧
  - アクション項目一覧（担当者・期限付き）
- ミニ要約生成スケジューラーが停止すること

### US-005: 会議履歴閲覧

**As a** ユーザー
**I want to** 過去の会議一覧を閲覧・検索できる
**So that** 過去の議論内容や決定事項を振り返ることができる

**受入基準**:
- 会議一覧が最新順に表示されること
- 各会議の以下の情報が表示されること
  - タイトル
  - 会議日程
  - ステータス（draft/進行中/完了）
  - 参加者数
  - アジェンダ数
  - 作成日時/更新日時
- 会議をクリックすると詳細画面に遷移できること

### US-006: 会議詳細閲覧

**As a** ユーザー
**I want to** 会議の詳細情報とサマリを閲覧できる
**So that** 会議内容を確認して次のアクションにつなげられる

**受入基準**:
- 会議基本情報（タイトル、目的、期待成果、参加者、アジェンダ）が表示されること
- 会議ステータスに応じた情報が表示されること
  - draft: 編集可能な会議情報
  - 進行中: リアルタイム文字起こし・脱線検知・ミニ要約
  - 完了: 最終サマリ・Markdown形式のレポート
- 会議サマリをダウンロードできること（Markdown/PDF）
- Slackに送信できること

### US-007: 会議編集

**As a** ファシリテーター
**I want to** 会議情報を編集できる
**So that** 変更があった場合に柔軟に対応できる

**受入基準**:
- draft状態の会議情報を編集できること
  - タイトル、目的、期待成果
  - 会議日程
  - 参加者リスト
  - アジェンダ項目
- 更新日時が自動更新されること
- バリデーションエラーが適切に表示されること

### US-008: 会議削除

**As a** ファシリテーター
**I want to** 不要な会議を削除できる
**So that** データを整理できる

**受入基準**:
- 会議を削除できること
- 削除確認ダイアログが表示されること
- 削除すると関連データ（文字起こし、要約）もすべて削除されること
- 削除後は会議一覧画面に戻ること

---

## 3. 機能要件

### 3.1 会議CRUD操作

| 機能 | 説明 | 必須 |
|------|------|------|
| 会議作成 | 会議基本情報とアジェンダを登録 | ✓ |
| 会議一覧取得 | 全会議を取得（最新順） | ✓ |
| 会議詳細取得 | 特定会議の詳細情報を取得 | ✓ |
| 会議更新 | 会議情報を更新 | ✓ |
| 会議削除 | 会議と関連データを削除 | ✓ |

### 3.2 会議ステータス管理

| ステータス | 説明 | 遷移条件 |
|-----------|------|----------|
| draft | 作成済み・未開始 | 会議作成時 |
| in_progress | 進行中 | `/start`エンドポイント呼び出し |
| completed | 完了 | `/end`エンドポイント呼び出し |

**ステータス遷移図**:
```
draft → in_progress → completed
  ↓
 削除
```

### 3.3 アジェンダ管理

| 項目 | 型 | 必須 | 説明 |
|------|---|------|------|
| title | string | ✓ | アジェンダタイトル（1-200文字） |
| duration | number | ✓ | 所要時間（分、1-480） |
| expectedOutcome | string | - | 期待成果 |
| relatedUrl | string | - | 関連資料URL |

---

## 4. 非機能要件

### 4.1 パフォーマンス

| 項目 | 目標値 |
|------|--------|
| 会議作成レスポンス | < 1秒 |
| 会議一覧取得 | < 2秒（100件まで） |
| 会議詳細取得 | < 1秒 |

### 4.2 スケーラビリティ

| 項目 | 目標値 |
|------|--------|
| 会議数上限 | 1,000件（PoC段階） |
| 同時進行中会議 | 10件 |

### 4.3 データ永続化

- **現状**: JSONファイルベース（`data/meetings/{meeting_id}/meeting.json`）
- **将来**: PostgreSQL移行予定

### 4.4 エラーハンドリング

| エラー | HTTPステータス | メッセージ |
|--------|---------------|-----------|
| 会議が見つからない | 404 | Meeting not found |
| バリデーションエラー | 400 | {具体的なエラー内容} |
| サーバーエラー | 500 | An unexpected error occurred |

---

## 5. データモデル

### 5.1 Meeting（会議）

```typescript
{
  id: string,              // UUID
  created_at: datetime,    // 作成日時（UTC）
  updated_at: datetime,    // 更新日時（UTC）
  started_at: datetime?,   // 開始日時（UTC）
  ended_at: datetime?,     // 終了日時（UTC）
  title: string,           // タイトル（1-200文字）
  purpose: string,         // 目的（1文字以上）
  deliverable_template: string, // 期待成果テンプレート（1文字以上）
  meetingDate: string?,    // 会議日程（YYYY-MM-DD形式）
  participants: string[],  // 参加者リスト
  agenda: AgendaItem[],    // アジェンダ項目
  status: "draft" | "in_progress" | "completed"
}
```

### 5.2 AgendaItem（アジェンダ項目）

```typescript
{
  title: string,           // タイトル（1-200文字）
  duration: number,        // 所要時間（分、1-480）
  expectedOutcome: string?, // 期待成果
  relatedUrl: string?      // 関連URL
}
```

---

## 6. UI/UX要件

### 6.1 画面構成

| 画面 | URL | 説明 |
|------|-----|------|
| 会議履歴一覧 | `/` | 過去の会議一覧 |
| 会議作成 | `/meetings/new` | 新規会議作成フォーム |
| 会議進行中 | `/meetings/[id]/active` | リアルタイム文字起こし・脱線検知 |
| 会議レポート | `/meetings/[id]/summary` | 最終サマリ表示 |

### 6.2 レスポンシブデザイン

- デスクトップ優先（会議中はPC使用想定）
- モバイル対応は会議履歴閲覧のみ

---

## 7. セキュリティ要件

### 7.1 現状（PoC段階）

- CORS制限（許可オリジンのみ）
- 入力バリデーション（Pydantic）
- 環境変数管理（`.env`ファイル）

### 7.2 将来的な要件

- 認証・認可（Cognito統合）
- 会議へのアクセス制御（作成者・参加者のみ）
- データ暗号化（保存時・転送時）

---

## 8. 制約事項

### 8.1 現在の制約

- 認証機能なし（全ユーザーが全会議にアクセス可能）
- データベース未使用（JSONファイルベース）
- 同時編集非対応

### 8.2 将来的な改善

- 認証・認可の実装
- PostgreSQLへの移行
- リアルタイム同期（WebSocket）

---

## 9. テスト要件

### 9.1 単体テスト

- APIエンドポイントのテスト（pytest）
- Pydanticスキーマのバリデーションテスト

### 9.2 統合テスト

- 会議作成→開始→終了のフローテスト
- エラーハンドリングのテスト

### 9.3 E2Eテスト

- 会議作成から最終サマリ生成までの一連の流れ（Playwright）

---

## 10. 受入基準チェックリスト

- [ ] 会議作成フォームが正しく動作する
- [ ] 会議一覧が正しく表示される
- [ ] 会議開始時にステータスが「進行中」になる
- [ ] 会議終了時に最終サマリが生成される
- [ ] 会議編集が正しく反映される
- [ ] 会議削除が正しく実行される
- [ ] バリデーションエラーが適切に表示される
- [ ] レスポンス時間が目標値を満たす

---

## 関連ドキュメント

- [会議管理機能 - 処理設計書](./design.md)
- [会議管理API - API契約書](./api/contracts.md)
- [バックエンド アーキテクチャ概要](../../apps/backend/overview.md)
- [フロントエンド アーキテクチャ概要](../../apps/frontend/overview.md)
