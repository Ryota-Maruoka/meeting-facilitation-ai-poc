# ğŸ“˜ .claude ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç®¡ç†ã‚¬ã‚¤ãƒ‰

æœ¬ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¯ã€ã‚·ã‚¹ãƒ†ãƒ é–‹ç™ºã«ãŠã‘ã‚‹ **è¨­è¨ˆãƒ»æ„æ€æ±ºå®šãƒ»è­°è«–å±¥æ­´** ã‚’ Markdown å½¢å¼ã§ç®¡ç†ã™ã‚‹ãŸã‚ã®é ˜åŸŸã§ã™ã€‚  
ã‚³ãƒ¼ãƒ‰ã§ã¯è¿½ã„ã«ãã„ã€Œãªãœãã†ã—ãŸã‹ã€ã€Œã©ã®ã‚ˆã†ã«è¨­è¨ˆã—ãŸã‹ã€ã‚’è¨˜éŒ²ã—ã€  
**äººé–“ã¨AIã®ä¸¡æ–¹ãŒè¨­è¨ˆæ„å›³ã‚’å†ç¾ã§ãã‚‹** ã“ã¨ã‚’ç›®çš„ã¨ã—ã¦ã„ã¾ã™ã€‚

---

## ğŸ—ï¸ é‹ç”¨æ–¹é‡

- æœ¬ãƒªãƒã‚¸ãƒˆãƒªã¯ **ãƒ¢ãƒãƒ¬ãƒæ§‹æˆ** ã‚’æ¡ç”¨ã€‚  
- **ãƒ‰ãƒ¡ã‚¤ãƒ³å¢ƒç•Œï¼ˆfeatureå˜ä½ï¼‰** ã”ã¨ã«ä»•æ§˜ãƒ»è¨­è¨ˆãƒ»APIãƒ»DBã‚¹ã‚­ãƒ¼ãƒã‚’ç®¡ç†ã—ã¾ã™ã€‚  
- **è­°è«–å±¥æ­´ï¼ˆRFC / ADRï¼‰** ã‚’ä½µè¨­ã—ã€ã€Œãªãœãã†è¨­è¨ˆã—ãŸã®ã‹ã€ã‚’æ®‹ã—ã¾ã™ã€‚  
- **AIã«ã‚ˆã‚‹è‡ªå‹•å®Ÿè£…ãƒ»ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°** ã‚’å‰æã«ã€  
  `.claude/` é…ä¸‹ã®æ–‡æ›¸ãŒå”¯ä¸€ã®ã€Œè¨­è¨ˆæ€æƒ³ã®æƒ…å ±æºã€ã¨ãªã‚‹æ§‹æˆã«ã—ã¾ã™ã€‚

---

## ğŸ“‚ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆï¼ˆæ¨™æº–ï¼‰

```
.claude/
â”œâ”€â”€ README.md                  # æœ¬ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆé‹ç”¨ãƒ«ãƒ¼ãƒ«ãƒ»ç›®çš„ãƒ»æ–¹é‡ï¼‰
â”œâ”€â”€ INDEX.md                   # ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä¸€è¦§ãƒ»æ›´æ–°å±¥æ­´
â”‚
â”œâ”€â”€ adr/                       # Architecture Decision Recordï¼ˆç¢ºå®šæ¸ˆã¿ã®æ±ºå®šï¼‰
â”‚   â”œâ”€â”€ adr-0001-use-clean-architecture.md
â”‚   â””â”€â”€ adr-0002-postgres-rls-force.md
â”‚
â”œâ”€â”€ rfc/                       # Request for Commentsï¼ˆææ¡ˆãƒ»è­°è«–æ®µéšï¼‰
â”‚   â””â”€â”€ 2025-10-21-authz-refactor.md
â”‚
â”œâ”€â”€ guidelines/                # æ¨ªæ–­ãƒ«ãƒ¼ãƒ«ï¼è¦ç´„
â”‚   â”œâ”€â”€ api-style.md           # ã‚¨ãƒ©ãƒ¼ãƒ¢ãƒ‡ãƒ«ãƒ»APIå‘½åè¦ç´„
â”‚   â””â”€â”€ db-style.md            # ãƒ†ãƒ¼ãƒ–ãƒ«å‘½åãƒ»è«–ç†å‰Šé™¤ãƒ»ç›£æŸ»åˆ—ãƒãƒªã‚·ãƒ¼
â”‚
â”œâ”€â”€ templates/                 # ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼ˆå€‹åˆ¥ãƒ•ã‚¡ã‚¤ãƒ«ã«åˆ†é›¢ï¼‰
â”‚   â”œâ”€â”€ TEMPLATE-feature-spec.md
â”‚   â”œâ”€â”€ TEMPLATE-feature-design.md
â”‚   â”œâ”€â”€ TEMPLATE-feature-api.md
â”‚   â”œâ”€â”€ TEMPLATE-feature-table-schema.md
â”‚   â”œâ”€â”€ TEMPLATE-adr.md
â”‚   â””â”€â”€ TEMPLATE-rfc.md
â”‚
â”œâ”€â”€ apps/                      # ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å…¨ä½“ã®è¨­è¨ˆ
â”‚   â”œâ”€â”€ backend/
â”‚   â”‚   â”œâ”€â”€ overview.md        # æŠ€è¡“æ§‹æˆãƒ»ä¾å­˜é–¢ä¿‚ãƒ»èµ·å‹•ãƒ»ç›£è¦–æ–¹æ³•
â”‚   â”‚   â””â”€â”€ integration-map.md # å¤–éƒ¨é€£æºæ§‹æˆï¼ˆC4ãƒ¬ãƒ™ãƒ«1ã€œ2ï¼‰
â”‚   â””â”€â”€ frontend/
â”‚       â”œâ”€â”€ overview.md
â”‚       â””â”€â”€ routing-concepts.md # ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°/UXã®åŸå‰‡
â”‚
â””â”€â”€ features/                  # ãƒ‰ãƒ¡ã‚¤ãƒ³ã”ã¨ã®æ©Ÿèƒ½è¨­è¨ˆ
    â”œâ”€â”€ customers/
    â”‚   â”œâ”€â”€ spec.md            # è¦ä»¶ãƒ»ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ãƒ»å—å…¥åŸºæº–
    â”‚   â”œâ”€â”€ design.md          # å‡¦ç†è¨­è¨ˆãƒ»éæ©Ÿèƒ½è¦ä»¶
    â”‚   â”œâ”€â”€ api/
    â”‚   â”‚   â”œâ”€â”€ contracts.md   # APIå¥‘ç´„ï¼ˆOpenAPIæ–­ç‰‡ã®å‚ç…§å«ã‚€ï¼‰
    â”‚   â”‚   â””â”€â”€ openapi-fragments/ # YAMLæ–­ç‰‡ï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰
    â”‚   â”œâ”€â”€ table-schema/
    â”‚   â”‚   â”œâ”€â”€ tables.md      # ERãƒ»ãƒ†ãƒ¼ãƒ–ãƒ«å®šç¾©ãƒ»åˆ¶ç´„ãƒ»RLSãƒãƒªã‚·ãƒ¼
    â”‚   â”‚   â””â”€â”€ migrations-notes.md # ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³æ³¨æ„ç‚¹
    â”‚   â”œâ”€â”€ changelog.md       # ã“ã®featureå˜ä½ã®å¤‰æ›´å±¥æ­´
    â”‚   â””â”€â”€ images/            # å›³ç‰ˆï¼ˆdrawio/pngï¼‰
    â”‚
    â””â”€â”€ orders/
        â”œâ”€â”€ spec.md
        â”œâ”€â”€ design.md
        â”œâ”€â”€ api/
        â”‚   â””â”€â”€ contracts.md
        â”œâ”€â”€ table-schema/
        â”‚   â””â”€â”€ tables.md
        â”œâ”€â”€ changelog.md
        â””â”€â”€ images/
````

---

## ğŸ§­ ADR ã¨ RFC ã®ä½¿ã„åˆ†ã‘

| è¦³ç‚¹ | ADRï¼ˆArchitecture Decision Recordï¼‰ | RFCï¼ˆRequest for Commentsï¼‰ |
|------|--------------------------------------|-----------------------------|
| **ç›®çš„** | æœ€çµ‚æ±ºå®šã‚’æ­£å¼ã«è¨˜éŒ²ã™ã‚‹ | ææ¡ˆãƒ»è­°è«–ãƒ»ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’è¡Œã† |
| **ã‚¿ã‚¤ãƒŸãƒ³ã‚°** | æ±ºå®šå¾Œã¾ãŸã¯ç¢ºå®šç›´å‰ | æ±ºå®šå‰ï¼ˆæ¡ˆã®æ®µéšï¼‰ |
| **å†…å®¹** | æ¡æŠã•ã‚ŒãŸèƒŒæ™¯ãƒ»ç†ç”±ãƒ»å½±éŸ¿ãƒ»ä»£æ›¿æ¡ˆ | ææ¡ˆå†…å®¹ãƒ»ãƒªã‚¹ã‚¯ãƒ»æœªæ±ºäº‹é … |
| **æ›´æ–°é »åº¦** | åŸºæœ¬çš„ã«å›ºå®šï¼ˆå¤‰æ›´æ™‚ã¯æ–°ADRï¼‰ | è­°è«–ä¸­ã«è¤‡æ•°å›æ›´æ–° |
| **ãƒˆãƒ¼ãƒ³** | ã€Œã“ã†æ±ºã‚ãŸã€ | ã€Œã“ã†ã—ãŸã„ã€æ„è¦‹ã‚’æ±‚ã‚€ã€ |
| **é–¢ä¿‚æ€§** | RFC â†’ æ‰¿èª â†’ ADRåŒ–ã™ã‚‹ | ADRã®å‰æ®µéšã¨ãªã‚‹ã“ã¨ãŒå¤šã„ |
| **ä¾‹** | ã€Œèªè¨¼ã¯ Cognito + ALB OIDC ã«çµ±ä¸€ã™ã‚‹ã€ | ã€ŒAuth.js çµ±ä¸€æ¡ˆã®æ¤œè¨ã€ |

### é‹ç”¨ãƒ•ãƒ­ãƒ¼

```text
[RFC ææ¡ˆ]
   â†“ ï¼ˆè­°è«–ãƒ»ãƒ¬ãƒ“ãƒ¥ãƒ¼ï¼‰
[æ¡æŠæ±ºå®š]
   â†“
[ADR ã¨ã—ã¦ç¢ºå®š]
   â†“
[é–¢é€£ feature / design ã«ãƒªãƒ³ã‚¯]
````

## âš™ï¸ é‹ç”¨ãƒ«ãƒ¼ãƒ«

1. **ææ¡ˆæ™‚ç‚¹ â†’ RFC**

   * ææ¡ˆãƒ»ä»£æ›¿æ¡ˆãƒ»ãƒªã‚¹ã‚¯ã‚’æ˜è¨˜ã€‚
   * `status: wip â†’ review` ã«ã—ã¦PRã§ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’ä¾é ¼ã€‚
2. **æ¡æŠå¾Œ â†’ ADR**

   * ã€Œã“ã®RFCã‚’å—ã‘ã¦æ±ºå®šã—ãŸã€ã¨ãƒªãƒ³ã‚¯ã‚’æ˜è¨˜ã€‚
   * RFCã¯ `status: accepted` ã«æ›´æ–°ã€‚
3. **æ–¹é‡å¤‰æ›´**

   * æ—¢å­˜ADRã¯ç·¨é›†ã›ãšã€æ–°ã—ã„ADRã‚’ä½œæˆã—
     `supersedes ADR-xxxx` ã‚’æ˜è¨˜ã€‚
4. **è»½å¾®ãªæ±ºå®š**

   * RFCã‚’çµŒãšã«ç›´æ¥ADRã§OKï¼ˆä¾‹ï¼šLintãƒ«ãƒ¼ãƒ«ã€ãƒ©ã‚¤ãƒ–ãƒ©ãƒªå¤‰æ›´ãªã©ï¼‰ã€‚
5. **Frontmatterå¿…é ˆé …ç›®**

   * `title`, `status`, `owner`, `last_update` ã¯å¿…é ˆã€‚
   * æ©Ÿå¯†åº¦ã‚’ `confidentiality: internal|confidential|public` ã§æŒ‡å®šã€‚
6. **ç”»åƒãƒ»å›³ç‰ˆ**

   * å„featureé…ä¸‹ã® `images/` ã« `.drawio` ã¾ãŸã¯ `.png` ã‚’æ ¼ç´ã—ç›¸å¯¾å‚ç…§ã€‚
7. **INDEX.md**

   * é‡è¦ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒ»æœ€æ–°æ›´æ–°ã‚’æ‰‹å‹•ã§é€±1æ›´æ–°ï¼ˆç°¡å˜ã§OKï¼‰ã€‚

---

## ğŸ§© ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä¸€è¦§

> ã™ã¹ã¦ `.claude/templates/` ã«æ ¼ç´ã€‚

| ç”¨é€”     | ãƒ•ã‚¡ã‚¤ãƒ«                                                                           | èª¬æ˜                |
| ------ | ------------------------------------------------------------------------------ | ----------------- |
| æ©Ÿèƒ½ä»•æ§˜   | [TEMPLATE-feature-spec.md](templates/TEMPLATE-feature-spec.md)                 | ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ãƒ»å—å…¥åŸºæº–       |
| æ©Ÿèƒ½è¨­è¨ˆ   | [TEMPLATE-feature-design.md](templates/TEMPLATE-feature-design.md)             | å‡¦ç†ãƒ•ãƒ­ãƒ¼ãƒ»UIãƒ»éæ©Ÿèƒ½      |
| APIå¥‘ç´„  | [TEMPLATE-feature-api.md](templates/TEMPLATE-feature-api.md)                   | ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆãƒ»OpenAPIæ–­ç‰‡ |
| ãƒ†ãƒ¼ãƒ–ãƒ«å®šç¾© | [TEMPLATE-feature-table-schema.md](templates/TEMPLATE-feature-table-schema.md) | ERãƒ»åˆ¶ç´„ãƒ»RLSãƒãƒªã‚·ãƒ¼     |
| ã‚¢ãƒ¼ã‚­æ±ºå®š  | [TEMPLATE-adr.md](templates/TEMPLATE-adr.md)                                   | æœ€çµ‚æ–¹é‡ï¼ˆç¢ºå®šæ¸ˆã¿ï¼‰        |
| ææ¡ˆãƒ»è­°è«–  | [TEMPLATE-rfc.md](templates/TEMPLATE-rfc.md)                                   | ææ¡ˆãƒ»ãƒ¬ãƒ“ãƒ¥ãƒ¼æ®µéš         |

---
